import{d as v,r as m,Q as h,T as y,g as x,a as s,w as r,x as b,o as g,e as t,b as n,u as a,U as k,n as C,f as U}from"./app-1f9e1dec.js";import{_ as V}from"./DangerButton.vue_vue_type_script_setup_true_lang-7b26776d.js";import{_ as $,a as S,b as N}from"./TextInput.vue_vue_type_script_setup_true_lang-984e909e.js";import{_ as T}from"./Modal.vue_vue_type_script_setup_true_lang-e417d840.js";import{_ as d}from"./hidden-ab3bc168.js";const B=["onSubmit"],D=["value"],K={class:"mt-6 space-y-2"},O=v({__name:"DeleteUserForm",setup(M){const l=m(!1),u=m(null),f=h().props.auth.user,e=y({password:""}),_=()=>{l.value=!0,b(()=>{var o;return(o=u.value)==null?void 0:o.focus()})},p=()=>{e.delete(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>i(),onError:()=>{var o;return(o=u.value)==null?void 0:o.focus()},onFinish:()=>{e.reset()}})},i=()=>{l.value=!1,e.reset()};return(o,c)=>(g(),x("section",null,[s(V,{onClick:_},{default:r(()=>[t("Supprimer mon compte")]),_:1}),s(T,{show:l.value,onClose:i},{header:r(()=>[t(" Tu veux déjà voler de tes propres ailes ? ")]),default:r(()=>[n("form",{onSubmit:U(p,["prevent"])},[n("input",{type:"text",class:"hidden",value:a(f).name,name:"username",autocomplete:"username"},null,8,D),n("div",null,[s($,{for:"password",value:"Mot de passe"}),s(S,{id:"password",ref_key:"passwordInput",ref:u,modelValue:a(e).password,"onUpdate:modelValue":c[0]||(c[0]=w=>a(e).password=w),type:"password",onKeyup:k(p,["enter"]),autocomplete:"false"},null,8,["modelValue","onKeyup"]),s(N,{message:a(e).errors.password},null,8,["message"])]),n("div",K,[s(d,{class:C(["text-red",{"opacity-25":a(e).processing}]),disabled:a(e).processing},{default:r(()=>[t(" Oui, supprimer mon compte ")]),_:1},8,["class","disabled"]),s(d,{type:"button",onClick:i},{default:r(()=>[t(" Non, annuler ")]),_:1})])],40,B)]),_:1},8,["show"])]))}});export{O as _};
